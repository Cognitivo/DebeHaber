(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{kzAp:function(t,e,a){"use strict";a.r(e);var s=a("gku4"),n={components:{crud:s.a},data:function(){return{cycle:[]}},computed:{formURL:function(){return this.$route.name.replace("List","Form")},columns:function(){return[{key:"date",sortable:!0},{key:"comment",label:this.$i18n.t("general.comment"),sortable:!0},{key:"debit",label:this.$i18n.t("commercial.value"),sortable:!0},{key:"hasDetails",label:"",sortable:!1},{key:"actions",label:"",sortable:!1}]},baseUrl:function(){return"/api/"+this.$route.params.taxPayer+"/"+this.$route.params.cycle}},methods:{GenerateJournal:function(){var t=this;s.a.methods.onRead(t.baseUrl+"/generate-journals/"+t.cycle.start_date+"/"+t.cycle.end_date).then(function(e){t.$snack.success({text:t.$i18n.t("commercial.GenerateJournal")})})}},mounted:function(){var t=this;s.a.methods.onRead(t.baseUrl+"/config/cycles/"+this.$route.params.cycle).then(function(e){t.cycle=e.data.data})}},r=a("KHd+"),o=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.$route.name.includes("List")?a("b-row",[a("b-col",[a("b-card-group",{attrs:{deck:""}},[a("b-card",{attrs:{"bg-variant":"dark","text-variant":"white"}},[a("h4",{staticClass:"upper-case"},[a("img",{staticClass:"ml-5 mr-5",attrs:{src:t.$route.meta.img,alt:"",width:"26"}}),t._v("\n                            "+t._s(t.$t(t.$route.meta.title))+"\n                        ")]),t._v(" "),t.$route.name.includes("List")?a("p",{staticClass:"lead"},[t._v("\n                            "+t._s(t.$t(t.$route.meta.description))+", "),a("router-link",{attrs:{to:{name:t.formURL,params:{id:0}}}},[t._v("Create")])],1):t._e()]),t._v(" "),a("invoices-this-month-kpi",{staticClass:"d-none d-xl-block"}),t._v(" "),a("invoices-this-month-kpi",{staticClass:"d-none d-xl-block"}),t._v(" "),a("b-card",{attrs:{"no-body":""}},[a("b-list-group-item",{attrs:{href:"#"},on:{click:function(e){return t.GenerateJournal()}}},[a("i",{staticClass:"material-icons"},[t._v("help")]),t._v("\n                            "+t._s(t.$t("general.GenerateJournal"))+"\n                        ")]),t._v(" "),a("b-list-group-item",{attrs:{href:"#"}},[a("i",{staticClass:"material-icons"},[t._v("help")]),t._v("\n                            "+t._s(t.$t("general.manual"))+"\n                        ")]),t._v(" "),a("b-list-group-item",{attrs:{to:{name:t.uploadURL}}},[a("i",{staticClass:"material-icons"},[t._v("cloud_upload")]),t._v("\n                            "+t._s(t.$t("general.uploadFromExcel"))+"\n                        ")]),t._v(" "),a("b-list-group-item",{attrs:{to:{name:t.formURL,params:{id:0}}}},[a("i",{staticClass:"material-icons md-light"},[t._v("add_box")]),t._v("\n                            "+t._s(t.$t("general.createNewRecord"))+"\n                        ")])],1)],1)],1)],1):t._e(),t._v(" "),a("b-row",[a("b-col",[t.$route.name.includes("List")?a("div",[a("crud",{attrs:{columns:t.columns},inlineTemplate:{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{attrs:{"no-body":""}},[a("b-table",{attrs:{hover:"",responsive:"",items:t.items,fields:t.columns,"current-page":t.current_page},scopedSlots:t._u([{key:"date",fn:function(e){return[t._v("\n                                "+t._s(new Date(e.item.date).toLocaleDateString())+"\n                            ")]}},{key:"total",fn:function(e){return[a("span",{staticClass:"float-right"},[t._v("\n                                    "+t._s(new Number(t.sum(e.item.details,"debit")).toLocaleString())+"\n                                    "),null!=e.item.currency?a("small",{staticClass:"text-success text-uppercase"},[t._v(t._s(e.item.currency.code))]):t._e()])]}},{key:"row-details",fn:function(e){return[a("b-row",[a("b-col",{attrs:{col:"6",colspan:"2"}},[a("b",[t._v(t._s(t.$t("accounting.chartOfAccounts")))])]),t._v(" "),a("b-col",{staticClass:"text-sm-right",attrs:{col:"3"}},[a("b",[t._v(t._s(t.$t("general.debit")))])]),t._v(" "),a("b-col",{staticClass:"text-sm-right",attrs:{col:"3"}},[a("b",[t._v(t._s(t.$t("general.credit")))])])],1),t._v(" "),t._l(e.item.details,function(e){return a("b-row",{key:e.key},[a("b-col",{attrs:{col:"1"}},[a("i",[t._v(t._s(e.chart.code))])]),t._v(" "),a("b-col",{attrs:{col:"5"}},[t._v("\n                                        "+t._s(e.chart.name)+"\n                                        "),a("chart-types",{attrs:{type:e.chart.type,sub_type:e.chart.sub_type}})],1),t._v(" "),a("b-col",{staticClass:"text-sm-right",attrs:{col:"3"}},[t._v(t._s(new Number(e.debit).toLocaleString()))]),t._v(" "),a("b-col",{staticClass:"text-sm-right",attrs:{col:"3"}},[t._v(t._s(new Number(e.credit).toLocaleString()))])],1)})]}},{key:"actions",fn:function(t){return[a("table-actions",{attrs:{row:t.item}})]}},{key:"empty",fn:function(t){return[a("table-empty")]}}],null,!1,1455951967)},[t._v(" "),t._v(" "),t._v(" "),t._v(" "),a("div",{attrs:{slot:"table-busy"},slot:"table-busy"},[a("table-loading")],1)]),t._v(" "),a("b-pagination",{attrs:{align:"center","total-rows":t.meta.total,"per-page":t.meta.per_page},on:{change:function(e){return t.onList()}}})],1)},staticRenderFns:[]}})],1):a("router-view")],1)],1)],1)},[],!1,null,null,null);e.default=o.exports}}]);